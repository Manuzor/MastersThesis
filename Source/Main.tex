%!TEX program = xelatex
\documentclass{scrreprt}
\usepackage{scrhack}
\usepackage{setspace}
\setstretch{1.3}

\voffset=2em

\KOMAoptions
{
  draft,
  fontsize=12pt,
  listof=numbered,
  headlines=4,
  parskip=half,
  BCOR=10mm,
  DIV=10,
}

\usepackage[automark,headsepline]{scrlayer-scrpage}
\ihead{}
\chead{}
\ohead{\headmark}
\ifoot{}
\cfoot[\pagemark]{\pagemark}
\ofoot{}

\usepackage[english]{babel}

\usepackage[iso,english]{isodate}

\usepackage[autostyle]{csquotes}

\usepackage[backend=biber,style=numeric,urldate=iso8601,date=iso8601]{biblatex}
\addbibresource{Bibliography.bib}

% Alternative to `Helvetica': TeX Gyre Heros
% Alternative to `Bookman Old Style': TeX Gyre Bonum
\usepackage{fontspec}
\setromanfont{TeX Gyre Bonum} % Enhanced version of `Bookman Old Style'.
\setmonofont{Consolas}
% \setsansfont{TeX Gyre Heros} % Replacement for Helvetica.
\setsansfont{Arial} % Replacement for Helvetica.

% Choose default font family.
%
% Options:
%   \rmdefault   Use the serif font family as default.
%   \sfdefault   Use the sans-serif font family as default.
%   \ttdefault   Use the monospace font family as default.
\renewcommand{\familydefault}{\sfdefault}

\usepackage{ifdraft}
\usepackage{amsmath}

\PassOptionsToPackage{draft}{graphicx}
\usepackage{graphicx}

\usepackage[toc,page]{appendix}

% To disable todonotes: [disable]
\usepackage{todonotes}
\newcommand{\tbd}[0]{\todo[inline, nolist, color=yellow!30]{\centerline{To Be Done}}{}}
% Put todo notes on the left side
\reversemarginpar
\setlength{\marginparwidth}{3.2cm}

\usepackage{xcolor}
\definecolor{CodeComment}{gray}{0.4}
\definecolor{CodeKeyword}{rgb}{0.0,0.0,0.8}
\definecolor{CodeString}{rgb}{0.0,0.3,0.0}

\usepackage{listings}
\lstdefinestyle{MyCppInline}
{
  language=[11]C++,
  % commentstyle=\color{CodeComment},
  % keywordstyle=\color{CodeKeyword},
  % numberstyle=\ttfamily\color{CodeComment},
  % stringstyle=\color{CodeString},
  basicstyle=\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2
}
\lstdefinestyle{MyCppFloat}
{
  language=[11]C++,
  % commentstyle=\color{CodeComment},
  % keywordstyle=\color{CodeKeyword},
  % numberstyle=\ttfamily\color{CodeComment},
  % stringstyle=\color{CodeString},
  basicstyle=\scriptsize\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  frame=single
}
\lstdefinestyle{MyXML}
{
  language=XML,
  % commentstyle=\color{CodeComment},
  % keywordstyle=\color{CodeKeyword},
  % numberstyle=\ttfamily\color{CodeComment},
  % stringstyle=\color{CodeString},
  basicstyle=\scriptsize\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  frame=single
}
\lstset{style=MyCppInline, frameround=tttt}
% \renewcommand\lstlistoflistingsname{List of Listings}

\usepackage{hyperref}
\hypersetup{
  colorlinks,
  final,
  bookmarksnumbered,
  citecolor=black,
  filecolor=black,
  linkcolor=black,
  urlcolor=black
}

\usepackage[all]{nowidow}

% Note: The glossaries package needs to be loaded as late as possible to
%       increase compat with other packages.
\usepackage[acronym,toc]{glossaries}
\loadglsentries{Main/Glossary.tex}
\makenoidxglossaries

% \usepackage[parfill]{parskip}

\usepackage{hhline}

\usepackage{tabu}

\usepackage[nopar]{lipsum}
\setlipsumdefault{1}

\emergencystretch=1em

\hyphenation{LunarG}


\usepackage{ifthen}
\newboolean{hdm}
\setboolean{hdm}{true}

\usepackage[perpage]{footmisc}

\usepackage{comment}

\begin{document}
  %
  % Title Page
  %

  \ifthenelse{\boolean{hdm}}
  {
    \begin{titlepage}
      \begin{centering}
        \todo[inline, nolist, color=red!64]{\centerline{DRAFT}}{}

        \large

        Masterarbeit im Studiengang \\ \textit{\Large Computer Science and Media}

        \vspace{\fill}

        {\fontsize{2.8em}{0}\selectfont\bfseries
          Evaluation of the \par Vulkan Graphics API
        }

        \vspace{\fill}

        vorgelegt von \\ \textit{\Large Manuel Maier} \\ Matrikelnummer 28535

        an der \\ \textit{\Large Hochschule der Medien Stuttgart}

        am \\ \textit{\Large 14.11.2016}

        zur Erlangung des akademischen Grades eines \\ \textit{\Large Master of Science (M.Sc.)}

      \end{centering}

      \vspace{\fill}

      \begin{tabu} to \linewidth { l X }
        Erstprüfer: & \textit{Prof. Dr. Stefan Radicke}\\
        Zweitprüfer: & \textit{Patrick Bader, M.Sc.}
      \end{tabu}
    \end{titlepage}
  }
  {
    \titlehead{\todo[inline, nolist, color=red!64]{\centerline{DRAFT}}{}}
    \subject{Master's Thesis \\ Computer Science and Media \\ Hochschule der Medien Stuttgart}
    \title{Evaluation of the \\ Vulkan Graphics API}
    \author{Manuel Maier}
    \date{\today}
    \publishers
    {
      Supervisors \\
      \textbf{Prof. Dr. Stefan Radicke}\\
      \textbf{Patrick Bader, M.Sc.}
    }
    \maketitle
  }


  %
  % Blank page for physical notes, name entries, etc.
  %
  \newpage
  \ifthenelse{\boolean{hdm}}
  {
    % \begin{centering}
      \begin{tabu} to \linewidth { X[r] X[l] }
        \multicolumn{2}{c}{Masterarbeit} \\
        Author         & Manuel Maier \\
        Semester       & Wintersemester 2016 \\
        Abgabedatum    & 14.11.2016 [dd.mm.yyyy] \\
        Matrikelnummer & 28535 \\
        Kürzel         & mm198 \\
        E-Mail         & mjmaier@gmx.de \\
      \end{tabu}
  }
  {
    \null
  }
  \thispagestyle{empty}
  \pagenumbering{gobble}

  %
  % Eidesstattliche Versicherung
  %
  \ifthenelse{\boolean{hdm}}{\input{Main/EidesstattlicheVersicherung}}{}


  %
  % Abstract and acknoledgements.
  %
  \input{Main/Abstract}
  \input{Main/Acknowledgements}


  %
  % Table of Contents
  %
  \newpage
  \pagenumbering{roman}
  \tableofcontents
  \newpage


  %
  % List of todos.
  %
  % \listoftodos


  %
  % Chapters
  %
  \pagenumbering{arabic}
  \input{Main/1_Introduction}
  \input{Main/2_VulkanOverview}
  \input{Main/3_EnvSetup}
  \input{Main/4_RenderPipeline}
  % \input{Main/5_Prototype}
  \input{Main/6_Conclusion}

  \newpage
  \pagenumbering{Roman}


  %
  % Bibliography
  %
  \newpage
  % Print all bibliography entries.
  % \nocite{*}
  \printbibliography[heading=bibintoc,title=Bibliography]


  %
  % Glossary
  %
  \printnoidxglossaries

  %
  % Appendix
  %
  \input{Main/Appendix}

\end{document}
