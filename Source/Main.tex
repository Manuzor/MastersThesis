%!TEX program = xelatex
\documentclass{scrreprt}
\usepackage{scrhack}
\usepackage{setspace}
\setstretch{1.3}

\voffset=2em

\KOMAoptions
{
  draft,
  twoside,
  open=right,
  fontsize=12pt,
  listof=numbered,
  headlines=4,
  parskip=half,
  BCOR=10mm,
  DIV=10,
}

\usepackage[automark,headsepline]{scrlayer-scrpage}
\lehead[\null]    {\headmark}
\chead [\null]    {\null}
\rohead[\null]    {\headmark}
\lefoot[\null]    {\null}
\cfoot [\pagemark]{\pagemark}
\rofoot[\null]    {\null}

\usepackage[english]{babel}

\usepackage[datesep=.]{datetime2}
\DTMsetstyle{ddmmyyyy}

\usepackage[autostyle]{csquotes}

\usepackage[backend=biber,style=numeric,urldate=iso8601,date=iso8601]{biblatex}
\addbibresource{Bibliography.bib}

% Alternative to `Helvetica': TeX Gyre Heros
% Alternative to `Bookman Old Style': TeX Gyre Bonum
\usepackage{fontspec}
\setromanfont{TeX Gyre Bonum} % Enhanced version of `Bookman Old Style'.
\setmonofont{Consolas}
% \setsansfont{TeX Gyre Heros} % Replacement for Helvetica.
\setsansfont{Arial} % Replacement for Helvetica.

% Choose default font family.
%
% Options:
%   \rmdefault   Use the serif font family as default.
%   \sfdefault   Use the sans-serif font family as default.
%   \ttdefault   Use the monospace font family as default.
\renewcommand{\familydefault}{\sfdefault}

\usepackage{ifdraft}
\usepackage{amsmath}

\PassOptionsToPackage{final}{graphicx}
\usepackage{graphicx}

\usepackage{wrapfig}

\usepackage[toc,page]{appendix}

% To disable todonotes: [disable]
\usepackage[disable]{todonotes}
\newcommand{\tbd}[0]{\todo[inline, nolist, color=yellow!30]{\centerline{To Be Done}}{}}
\newcommand{\proofread}[0]{\todo[nolist, fancyline, color=cyan!60]{\centerline{Proof-read}}{}}
% Put todo notes on the left side
\reversemarginpar
\setlength{\marginparwidth}{3.2cm}

\usepackage{xcolor}
\definecolor{CodeComment}{gray}{0.4}
\definecolor{CodeKeyword}{rgb}{0.0,0.0,0.8}
\definecolor{CodeString}{rgb}{0.0,0.3,0.0}

\usepackage{listings}
\lstdefinestyle{MyCppInline}
{
  language=[11]C++,
  % commentstyle=\color{CodeComment},
  % keywordstyle=\color{CodeKeyword},
  % numberstyle=\ttfamily\color{CodeComment},
  % stringstyle=\color{CodeString},
  basicstyle=\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2
}
\lstdefinestyle{MyCppFloat}
{
  language=[11]C++,
  % commentstyle=\color{CodeComment},
  % keywordstyle=\color{CodeKeyword},
  % numberstyle=\ttfamily\color{CodeComment},
  % stringstyle=\color{CodeString},
  basicstyle=\scriptsize\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  frame=single,
  emphstyle={\underbar}
}
\lstdefinestyle{MyXML}
{
  language=XML,
  % commentstyle=\color{CodeComment},
  % keywordstyle=\color{CodeKeyword},
  % numberstyle=\ttfamily\color{CodeComment},
  % stringstyle=\color{CodeString},
  basicstyle=\scriptsize\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  frame=single,
  emphstyle={\underbar}
}
\lstset{style=MyCppInline, frameround=tttt}
% \renewcommand\lstlistoflistingsname{List of Listings}

\usepackage{hyperref}
\hypersetup{
  final,
  bookmarksnumbered,
  hidelinks
  % colorlinks,
  % citecolor=black,
  % filecolor=black,
  % linkcolor=black,
  % urlcolor=black
}

\usepackage[all]{nowidow}

% Note: The glossaries package needs to be loaded as late as possible to
%       increase compat with other packages.
\usepackage[acronym,style=super,nonumberlist,toc]{glossaries}
\loadglsentries{Main/Glossary.tex}
\makenoidxglossaries

% \usepackage[parfill]{parskip}

\usepackage{hhline}

\usepackage{tabu}

\usepackage[nopar]{lipsum}
\setlipsumdefault{1}

\emergencystretch=1em

\hyphenation{LunarG}


\usepackage{ifthen}
\newboolean{hdm}
\setboolean{hdm}{true}

\usepackage[perpage]{footmisc}

\usepackage{comment}

% Set the depth of the numebering scheme for chapters, section, subsection, etc.
\setcounter{secnumdepth}{3}

\addto\captionsenglish{
  \renewcommand{\figurename}{Fig.}
}

\begin{document}
  \pagestyle{plain.scrheadings}

  %
  % Title Page
  %

  \ifthenelse{\boolean{hdm}}
  {
    \begin{titlepage}
      \begin{centering}
        \todo[inline, nolist, color=red!64]{\centerline{DRAFT}}{}

        \large

        Masterarbeit im Studiengang \\ \textit{\Large Computer Science and Media}

        \vspace{\fill}

        {\fontsize{2.4em}{0}\selectfont\bfseries
          Prototypical Evaluation \par of Vulkan's Low-Level \par Graphics Pipeline
        }

        \vspace{\fill}

        vorgelegt von \\ \textit{\Large Manuel Maier} \\ Matrikelnummer 28535

        an der \\ \textit{\Large Hochschule der Medien Stuttgart}

        am \\ \textit{\Large \DTMtoday}

        zur Erlangung des akademischen Grades eines \\ \textit{\Large Master of Science (M.Sc.)}


      \vspace{\fill}

      \begin{tabu}{rl}
        Erstprüfer:  & \textit{Prof. Dr. Stefan Radicke} \\
        Zweitprüfer: & \textit{Patrick Bader, M.Sc.}
      \end{tabu}

      \end{centering}
    \end{titlepage}
  }
  {
    \titlehead{\todo[inline, nolist, color=red!64]{\centerline{DRAFT}}{}}
    \subject{Master's Thesis \\ Computer Science and Media \\ Hochschule der Medien Stuttgart}
    \title{Prototypical Evaluation \\ of Vulkan's Low-Level \\ Graphics Pipeline}
    \author{Manuel Maier}
    \date{\DTMToday}
    \publishers
    {
      Supervisors \\
      \textbf{Prof. Dr. Stefan Radicke}\\
      \textbf{Patrick Bader, M.Sc.}
    }
    \maketitle
  }

  \pagenumbering{gobble}

  %
  % Blank page for physical notes, name entries, etc.
  %
  \cleardoubleemptypage
  \null

  %
  % Eidesstattliche Versicherung
  %
  \ifthenelse{\boolean{hdm}}{\input{Main/EidesstattlicheVersicherung}}{}


  %
  % Abstract and acknoledgements.
  %
  \input{Main/Abstract}
  \input{Main/Acknowledgements}


  %
  % Table of Contents
  %
  \cleardoubleemptypage
  \pagenumbering{roman}
  \tableofcontents
  \cleardoubleplainpage


  %
  % List of todos.
  %
  % \listoftodos

  \pagestyle{scrheadings}

  %
  % Chapters
  %
  \pagenumbering{arabic}
  \input{Main/1_Introduction}
  \input{Main/2_VulkanOverview}
  \input{Main/3_EnvSetup}
  \input{Main/4_RenderPipeline}
  \input{Main/5_Conclusion}

  \newpage
  \pagenumbering{Roman}


  %
  % Bibliography
  %
  \newpage
  % \nocite{*}
  \printbibliography[heading=bibintoc,title=Bibliography]


  %
  % Glossary
  %
  \printnoidxglossaries

  %
  % Appendix
  %
  \input{Main/Appendix}

\end{document}
